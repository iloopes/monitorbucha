â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  INTEGRAÃ‡ÃƒO DO AUTOENCODER - RESUMO                        â•‘
â•‘           Sistema de DetecÃ§Ã£o de Anomalias em Transformadores             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… IMPLEMENTAÃ‡Ã•ES COMPLETADAS:

1ï¸âƒ£  MÃ“DULO AUTOENCODER (Backend - Python)
   â””â”€ Arquivo: src/anomaly/autoencoder.py
      â”œâ”€ Class MLPAutoEncoder: Arquitetura MLP (simples e rÃ¡pida)
      â”œâ”€ Class CNNAutoEncoder: Arquitetura CNN (para sÃ©ries temporais)
      â””â”€ Class MovingWindowAutoEncoder: Interface principal
         â”œâ”€ fit(): Treina o modelo com dados histÃ³ricos
         â”œâ”€ detect(): Detecta anomalias em novos dados
         â””â”€ get_anomaly_summary(): Resumo das anomalias

2ï¸âƒ£  GERENCIADOR DE ANOMALIAS (Backend - Python)
   â””â”€ Arquivo: src/anomaly/manager.py
      â”œâ”€ AnomalyManager: Orquestra todo o sistema
         â”œâ”€ train_autoencoder(): Treina com dados do banco
         â”œâ”€ detect_anomalies(): Executa detecÃ§Ã£o
         â”œâ”€ get_anomalies(): Busca anomalias salvas
         â””â”€ PersistÃªncia em banco de dados

3ï¸âƒ£  ENDPOINTS REST (Backend - FastAPI)
   â””â”€ Arquivo: api/main.py
      â”œâ”€ POST /api/anomaly/train
      â”‚  â””â”€ Treina novo modelo com parÃ¢metros customizÃ¡veis
      â”œâ”€ POST /api/anomaly/detect
      â”‚  â””â”€ Detecta anomalias e salva resultados
      â”œâ”€ GET /api/anomaly/list
      â”‚  â””â”€ Retorna lista de anomalias com filtros
      â””â”€ GET /api/anomaly/summary
         â””â”€ Retorna resumo estatÃ­stico

4ï¸âƒ£  DASHBOARD DE ANOMALIAS (Frontend - React/TypeScript)
   â””â”€ Arquivo: frontend-shadcn/app/(dashboard)/anomalies/page.tsx
      â”œâ”€ Cards de Resumo:
      â”‚  â”œâ”€ Anomalias Detectadas (contagem)
      â”‚  â”œâ”€ Erro MÃ©dio (Q)
      â”‚  â”œâ”€ DistÃ¢ncia TÂ² MÃ©dia
      â”‚  â””â”€ Total de Pontos Analisados
      â”œâ”€ Controles:
      â”‚  â”œâ”€ BotÃ£o: Treinar Autoencoder
      â”‚  â”œâ”€ BotÃ£o: Detectar Anomalias
      â”‚  â””â”€ Filtros: 6h, 12h, 24h, 48h, 168h
      â””â”€ Lista Detalhada:
         â”œâ”€ Timestamp da anomalia
         â”œâ”€ Equipment ID
         â”œâ”€ MÃ©tricas (Q, TÂ², reconstruction_error, latent_distance)
         â””â”€ Severity badge

5ï¸âƒ£  INTEGRAÃ‡ÃƒO NO CALENDÃRIO (Frontend - React/TypeScript)
   â””â”€ Arquivo: frontend-shadcn/app/(dashboard)/calendar/page.tsx
      â”œâ”€ Resumo de Anomalias (24h):
      â”‚  â”œâ”€ Contagem total
      â”‚  â”œâ”€ Percentual de dados anÃ´malos
      â”‚  â””â”€ MÃ©tricas mÃ©dias
      â””â”€ Cards de ManutenÃ§Ã£o Atualizados:
         â”œâ”€ Badge ğŸš¨ com nÃºmero de anomalias por equipamento
         â””â”€ Indicador visual de equipamentos com comportamento anÃ´malo

6ï¸âƒ£  ATUALIZAÃ‡ÃƒO DO SIDEBAR (Frontend)
   â””â”€ Arquivo: frontend-shadcn/components/sidebar.tsx
      â””â”€ Novo menu item:
         â””â”€ "Anomalias" com Ã­cone AlertTriangle
            â””â”€ Link: /anomalies

7ï¸âƒ£  FUNÃ‡Ã•ES DE API (Frontend)
   â””â”€ Arquivo: frontend-shadcn/lib/api.ts
      â”œâ”€ trainAnomalyModel()
      â”œâ”€ detectAnomalies()
      â”œâ”€ listAnomalies()
      â””â”€ getAnomalySummary()

8ï¸âƒ£  TABELAS DE BANCO DE DADOS (SQL Server)
   â””â”€ Criadas automaticamente:
      â”œâ”€ anomaly_detections
      â”‚  â”œâ”€ equipment_id
      â”‚  â”œâ”€ timestamp
      â”‚  â”œâ”€ Q (erro reconstruÃ§Ã£o)
      â”‚  â”œâ”€ T2 (distÃ¢ncia latente)
      â”‚  â”œâ”€ is_anomaly
      â”‚  â”œâ”€ severity
      â”‚  â””â”€ +5 outras colunas
      â””â”€ anomaly_models
         â”œâ”€ model_name
         â”œâ”€ model_arch
         â”œâ”€ latent_dim
         â”œâ”€ window_size
         â””â”€ training_epochs

9ï¸âƒ£  DOCUMENTAÃ‡ÃƒO
   â””â”€ Arquivo: AUTOENCODER_README.md
      â”œâ”€ VisÃ£o geral do sistema
      â”œâ”€ Arquitetura e componentes
      â”œâ”€ Como usar (tutorial passo a passo)
      â”œâ”€ ReferÃªncia de API endpoints
      â”œâ”€ PersonalizaÃ§Ã£o e troubleshooting
      â””â”€ Boas prÃ¡ticas

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š FLUXO DE DETECÃ‡ÃƒO:

   Dados de Sensores (sensor_data)
           â†“
   Treinar Autoencoder (aprender padrÃ£o normal)
   - 168 horas de histÃ³rico
   - 50 Ã©pocas
   - NormalizaÃ§Ã£o + MLP/CNN
           â†“
   Detectar Anomalias (identificar desvios)
   - Calcular Q (recon)
   - Calcular TÂ² (latente)
   - Comparar com threshold
           â†“
   Salvar Resultados (persistÃªncia)
   - anomaly_detections
   - Timestamps + mÃ©tricas
           â†“
   Visualizar (3 opÃ§Ãµes)
   A) Dashboard de Anomalias
   B) CalendÃ¡rio integrado
   C) API para integraÃ§Ã£o

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ TRÃŠS OPÃ‡Ã•ES IMPLEMENTADAS:

Option 1ï¸âƒ£ - ENDPOINT /api/anomaly/detect
   âœ… Endpoint REST para detectar anomalias
   âœ… Suporta customizaÃ§Ã£o de parÃ¢metros
   âœ… Retorna resultados em JSON estruturado
   Uso: POST /api/anomaly/detect + GET /api/anomaly/list

Option 2ï¸âƒ£ - DASHBOARD DE ANOMALIAS
   âœ… PÃ¡gina dedicada em /anomalies
   âœ… VisualizaÃ§Ã£o completa com filtros temporais
   âœ… Cards resumidos + lista detalhada
   âœ… BotÃµes para treinar e detectar
   Acesso: Menu â†’ "Anomalias" ou http://localhost:3000/anomalies

Option 3ï¸âƒ£ - INTEGRAÃ‡ÃƒO NO CALENDÃRIO
   âœ… Resumo de anomalias no topo do calendÃ¡rio
   âœ… Badge ğŸš¨ em equipamentos com anomalias
   âœ… CorrelaÃ§Ã£o entre manutenÃ§Ã£o programada e anomalias detectadas
   Acesso: Menu â†’ "CalendÃ¡rio" (jÃ¡ integrado)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ CONFIGURAÃ‡Ã•ES PADRÃƒO:

Modelo:
  Arquitetura: MLP (Multi-Layer Perceptron)
  Camadas ocultas: [32, 16, 8]
  DimensÃ£o latente: 5
  Janela: 168 horas (1 semana)
  Ã‰pocas: 50
  Learning Rate: 0.001

DetecÃ§Ã£o:
  Threshold: 95Âº percentil
  MÃ©tricas: Q + TÂ²
  SuavizaÃ§Ã£o: rolling median
  PersistÃªncia: AutomÃ¡tica no banco

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ DADOS DO PROJETO:

Pasta Criada:
  src/anomaly/
  â”œâ”€ __init__.py (113 bytes)
  â”œâ”€ autoencoder.py (8.2 KB) - 250+ linhas
  â””â”€ manager.py (7.5 KB) - 280+ linhas

CÃ³digo Adicionado:
  â”œâ”€ Backend: 150+ linhas em api/main.py
  â”œâ”€ Frontend: 350+ linhas em components/sidebar.tsx, calendar/page.tsx
  â”œâ”€ API Functions: 30+ linhas em lib/api.ts
  â””â”€ UI Components: page.tsx com 400+ linhas

DocumentaÃ§Ã£o:
  AUTOENCODER_README.md (500+ linhas)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ PRÃ“XIMOS PASSOS:

1. Instalar dependÃªncias (se necessÃ¡rio):
   pip install torch scikit-learn

2. Reiniciar o servidor backend:
   python api/main.py

3. Gerar dados sintÃ©ticos (se nÃ£o existirem):
   - Ir em "Gerar Dados"
   - Preencher parÃ¢metros
   - Clicar em "Gerar"

4. Treinar o autoencoder:
   - Ir em "Anomalias"
   - Clicar em "ğŸ¤– Treinar Autoencoder"
   - Aguardar conclusÃ£o

5. Detectar anomalias:
   - Clicar em "âš¡ Detectar Anomalias"
   - Visualizar resultados

6. Visualizar em calendÃ¡rio:
   - Ir em "CalendÃ¡rio"
   - Ver anomalias integradas

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ DICAS DE USO:

âœ“ Use MLP para padrÃµes gerais (rÃ¡pido)
âœ“ Use CNN para sÃ©ries temporais complexas (mais lento)
âœ“ Aumente threshold_percentile para menos false positives
âœ“ Reduza window_size se tiver poucos dados histÃ³ricos
âœ“ Retreine regularmente com novos dados
âœ“ Valide alertas manualmente no inÃ­cio
âœ“ Correlacione com eventos reais de manutenÃ§Ã£o
âœ“ Use anomalias + otimizaÃ§Ã£o para mÃ¡xima precisÃ£o

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ SUCESSO! Autoencoder integrado ao projeto! âœ¨

Agora vocÃª tem:
  âœ… DetecÃ§Ã£o de anomalias em tempo real
  âœ… Dashboard dedicado com mÃ©tricas
  âœ… IntegraÃ§Ã£o com calendÃ¡rio de manutenÃ§Ã£o
  âœ… API REST para integraÃ§Ã£o externa
  âœ… PersistÃªncia em banco de dados
  âœ… DocumentaÃ§Ã£o completa

Para mais detalhes, consulte: AUTOENCODER_README.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
